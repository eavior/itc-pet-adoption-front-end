(this["webpackJsonppet-site"]=this["webpackJsonppet-site"]||[]).push([[0],{25:function(e,t,a){},49:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(27),s=a.n(c),l=(a(49),a(5)),i=a(44),o=(a(25),a(2)),u=a.n(o),d=a(3),b=a(4),j=a(8),m=a(7),p=a(15),h=a(13),x=a.n(h),f=a(0),O=Object(r.createContext)({isInitiallyLoaded:!1,token:"",userId:"",fullName:"",admin:!1,saveToken:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeToken:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),saveUserId:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeUserId:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),saveFullName:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeFullName:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),saveAdminStatus:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),resetAdminStatus:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),v="userToken",g="userId",N="fullName",y="adminRole",w=function(){return Object(r.useContext)(O)},k=function(e){var t=Object(r.useState)(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(),l=Object(b.a)(s,2),i=l[0],o=l[1],j=Object(r.useState)(),m=Object(b.a)(j,2),p=m[0],h=m[1],w=Object(r.useState)(),k=Object(b.a)(w,2),S=k[0],C=k[1],F=Object(r.useState)(),L=Object(b.a)(F,2),T=L[0],q=L[1],I=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t),e.next=3,x.a.setItem(v,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(),e.next=3,x.a.removeItem(v);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(t),e.next=3,x.a.setItem(g,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(),e.next=3,x.a.removeItem(g);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(t),e.next=3,x.a.setItem(N,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(),e.next=3,x.a.removeItem(N);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(t),e.next=3,x.a.setItem(y,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!1),e.next=3,x.a.removeItem(y);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){x.a.getItem(g).then((function(e){e&&h(e)})),x.a.getItem(N).then((function(e){e&&C(e)})),x.a.getItem(y).then((function(e){e&&q(e)})),x.a.getItem(v).then((function(e){e&&o(e),c(!0)}))}),[]),Object(f.jsx)(O.Provider,{value:{token:i,userId:p,fullName:S,admin:T,isInitiallyLoaded:n,saveToken:I,removeToken:_,saveUserId:P,removeUserId:A,saveFullName:E,removeFullName:R,saveAdminStatus:U,resetAdminStatus:H},children:e.children})},S=a(6),C=a.n(S),F="https://eavior-pet-adoption.herokuapp.com";function L(e){return{headers:{Authorization:"Bearer "+e}}}function T(e){return q.apply(this,arguments)}function q(){return(q=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("".concat(F,"/signup"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("".concat(F,"/login"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return A.apply(this,arguments)}function A(){return(A=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("".concat(F,"/pet"),t,L(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("".concat(F,"/pet/picture_url"),t,L(a),{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(t._boundary)}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return H.apply(this,arguments)}function H(){return(H=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(F,"/pet/")+t,L(a));case 2:return n=e.sent,r="all"===t?n.data.pets:n.data.pet[0],e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,a){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(u.a.mark((function e(t,a,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.put("".concat(F,"/pet/")+t,a,L(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(F,"/pet/?").concat(t),L(a));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,a){return $.apply(this,arguments)}function $(){return($=Object(d.a)(u.a.mark((function e(t,a,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Available"===a.status?"/return":"/adopt",e.next=3,C.a.put("".concat(F,"/pet/")+t+n,a,L(r));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("".concat(F,"/pet/").concat(t,"/save"),t,L(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){return z.apply(this,arguments)}function z(){return(z=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.delete("".concat(F,"/pet/").concat(t,"/save"),L(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(F+"/pet/user/"+t+"/owned",L(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(F+"/pet/user/"+t+"/saved",L(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(d.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(F+"/user/"+t,L(a));case 2:return r=e.sent,n=r.data.user[0],e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t,a){return ae.apply(this,arguments)}function ae(){return(ae=Object(d.a)(u.a.mark((function e(t,a,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.put("".concat(F,"/user/")+t,a,L(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(F,"/user"),L(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return se.apply(this,arguments)}function se(){return(se=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(F+"/pet/all",L(t));case 2:return a=e.sent,e.abrupt("return",a.data.pets);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.delete("".concat(F,"/pet/")+t,L(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,a){return ue.apply(this,arguments)}function ue(){return(ue=Object(d.a)(u.a.mark((function e(t,a,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(F,"/pet/").concat(t,"/user/").concat(a,"/"),L(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(e){e.currentUserData,e.currentUserId;var t=Object(r.useState)(""),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(""),i=Object(b.a)(s,2),o=(i[0],i[1]),j=w(),m=Object(p.a)(),h=m.register,x=m.handleSubmit,O=m.setValue,v=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.email===t.email2){e.next=2;break}return e.abrupt("return",alert("The email addresses don't match. Please correct."));case 2:if(t.password===t.password2){e.next=4;break}return e.abrupt("return",alert("The passwords don't match. Please correct."));case 4:return e.prev=4,e.next=7,te(t.id,t,j.token);case 7:a=e.sent,o(a.user),alert(a.result),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(e,t){return ee.apply(this,arguments)})(j.userId,j.token).then((function(e){["id","bio","first_name","last_name","phone_number","role","updated"].forEach((function(t){return O(t,e[t])})),c(e.email)}))}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:"row g-3",onSubmit:x(v),children:[Object(f.jsx)("div",{className:"col-8",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-5 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"First name"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return O(e.target.value)},placeholder:"First name"},h("first_name",{required:!0,min:1,maxLength:80})))]}),Object(f.jsxs)("div",{className:"col-5 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Last name"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return O(e.target.value)},placeholder:"Last name"},h("last_name",{required:!0,min:1,maxLength:100})))]}),Object(f.jsxs)("div",{className:"col-10 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Phone number"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"tel",onChange:function(e){return O(e.target.value)},placeholder:"Mobile number"},h("phone_number",{required:!0,minLength:6,maxLength:12})))]}),Object(f.jsx)("div",{className:"col-10 mb-4",children:Object(f.jsxs)("label",{className:"form-label",children:["The email address linked to this account is ",n,".",Object(f.jsx)("br",{}),"If you want to change the email address, or the password, please fill in the relevant fields below."]})}),Object(f.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"New email"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"email",onChange:function(e){return O(e.target.value)},placeholder:"Email"},h("email",{required:!1,min:4,pattern:/^\S+@\S+$/i})))]}),Object(f.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Repeat email address"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"email",placeholder:"Email"},h("email2",{required:!1,min:4,pattern:/^\S+@\S+$/i})))]}),Object(f.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"New password"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"password",onChange:function(e){return O(e.target.value)},placeholder:"Password"},h("password",{required:!1})))]}),Object(f.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Repeat password"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"password",onChange:function(e){return O(e.target.value)},placeholder:"Password"},h("password2",{required:!1})))]})]})}),Object(f.jsxs)("div",{className:"col-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Short bio"}),Object(f.jsx)("textarea",Object(l.a)({className:"form-control",onChange:function(e){return O(e.target.value)},style:{height:"20rem"}},h("bio",{required:!1,min:0})))]}),Object(f.jsx)("div",{className:"col-12 mb-4",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-primary float-end ms-4",children:"Save your changes"})})]})})},be=a(22),je=a.n(be),me=function(e){var t=e.onLoadPets,a=w(),n=Object(r.useState)(null),c=Object(b.a)(n,1)[0],s=Object(r.useState)(""),i=Object(b.a)(s,2),o=i[0],j=i[1],m=Object(p.a)(),h=m.register,x=m.setValue,O=m.reset,v=m.handleSubmit,g=(m.formState.errors,function(){var e=Object(d.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(r,a.token);case 3:n=e.sent,c(n.pet),t(),alert("The pet has been created"),j(""),O(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),N=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.image[0],(n=new je.a).append("image",r,r.name),e.prev=3,e.next=6,E(n,a.token);case 6:c=e.sent,j(c.picture_url),x("picture_url",c.picture_url),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:"row g-3",onSubmit:v(g),children:[o&&Object(f.jsx)("div",{className:"col-md-4",children:Object(f.jsx)("img",{src:o,alt:"...",className:"img-fluid rounded",style:{height:"15rem",width:"30rem",objectFit:"contain",border:"solid 1px #ccc"}})}),Object(f.jsx)("div",{className:"col-8",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Pet name"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return x(e.target.value)},placeholder:"Pet name"},h("name",{required:!0,min:1,maxLength:100})))]}),Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Type"}),Object(f.jsxs)("select",Object(l.a)(Object(l.a)({className:"form-control"},h("type")),{},{children:[Object(f.jsx)("option",{value:"dog",children:"Dog"}),Object(f.jsx)("option",{value:"cat",children:"Cat"})]}))]}),Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Breed"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return x(e.target.value)},placeholder:"Breed"},h("breed",{required:!1,maxLength:100})))]}),Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Color"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return x(e.target.value)},placeholder:"Color"},h("color",{required:!1,maxLength:100})))]}),Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Height (cm)"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"number",placeholder:"Height",defaultValue:"0",onChange:function(e){return x(+e.target.value)}},h("height",{required:!1,min:0,max:999})))]}),Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Weight (gram)"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"number",defaultValue:"0",onChange:function(e){return x(e.target.value)},placeholder:"Weight"},h("weight",{required:!1,min:0,max:999})))]})]})}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"formFile",className:"form-label",children:"Attach a picture"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",Object(l.a)({type:"file",className:"form-control",id:"inputGroupFile04","aria-describedby":"inputGroupFileAddon04","aria-label":"Upload"},h("image",{required:!1}))),Object(f.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"inputGroupFileAddon04",onClick:v(N),children:"Upload"})]})]}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-3 mb-3",children:[Object(f.jsx)("input",Object(l.a)({type:"checkbox",onChange:function(e){return x(e.target.value)},placeholder:"Hypoallergenic"},h("hypoallergenic",{required:!1,maxLength:100}))),Object(f.jsx)("label",{className:"form-label",children:"\xa0Hypoallergenic"})]}),Object(f.jsxs)("div",{className:"col-9 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Dietary restrictions"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return x(e.target.value)},placeholder:"Dietary restrictions"},h("diet",{required:!1,maxLength:100})))]})]})}),Object(f.jsx)("div",{className:"d-none",children:Object(f.jsxs)("div",{className:"col-10 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Picture"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return x(e.target.value)},placeholder:"Picture url"},h("picture_url",{required:!1,maxLength:100})))]})}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("label",{className:"form-label",children:"Biography"}),Object(f.jsx)("textarea",Object(l.a)({className:"form-control",onChange:function(e){return x(e.target.value)},style:{height:"7rem"}},h("bio",{required:!1,min:1})))]})})}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12 mb-4",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-primary float-end ms-4",children:"Save your changes"})})})})]})})},pe=a(17),he=a.n(pe),xe=function(e){var t=e.item,a=Object(r.useState)(t.picture_url),n=Object(b.a)(a,2),c=n[0],s=n[1];return Object(r.useEffect)((function(){t.picture_url||("dog"===t.type&&s("../dog.png"),"cat"===t.type&&s("../cat.png"))}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"col",children:Object(f.jsxs)("div",{className:"card",style:{width:"12rem",height:"15rem"},children:[Object(f.jsx)("img",{src:c,className:"card-img-top",alt:t.name,style:{height:"6rem",objectFit:"cover"}}),Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h5",{className:"card-title text-center",children:t.name}),Object(f.jsx)(j.b,{className:"nav-link btn btn-primary",activeClassName:"selected",to:"/pets/".concat(t.id),children:"See more"})]}),Object(f.jsx)("div",{className:"card-footer text-center",children:Object(f.jsx)("small",{className:"text-muted",children:t.status})})]})})})},fe=function(e){var t=e.petList,a=Object(f.jsx)("div",{className:"row row-cols-1 row-cols-md-auto g-4",children:t.map((function(e){return Object(f.jsx)(xe,{item:e},e.id)}))});return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{children:[a," "]})})},Oe=function(e){var t=w(),a=e.item,n=Object(r.useState)({}),c=Object(b.a)(n,2),s=c[0],l=c[1],i=Object(r.useRef)(!1),o=Object(r.useState)(!1),j=Object(b.a)(o,2),m=j[0],p=j[1];Object(r.useEffect)((function(){return i.current=!0,h(),function(){i.current=!1}}),[]);var h=function(){var e=Object(d.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(a.id,t.token);case 3:r=e.sent,l(r.owned),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("button",{type:"button",onClick:function(){return p(!0)},className:"list-group-item list-group-item-action btn btn-outline-info shadow-sm p-1 ms-3 mb-0 w-75 bg-body border rounded",children:[a.first_name," ",a.last_name," ","admin"===a.role&&Object(f.jsx)("span",{className:"fw-bold",children:"(administrator)"})]}),Object(f.jsxs)(he.a,{closeTimeoutMS:200,isOpen:m,contentLabel:"modal",style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(224, 224, 224, 0.75)",backdropFilter:"blur(5px)"},content:{position:"absolute",top:"80px",left:"20%",right:"20%",bottom:"20px",border:"1px solid #ccc",background:"#fff",backdropFilter:"blur(5px)",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},onRequestClose:function(){return p(!1)},ariaHideApp:!1,children:[Object(f.jsx)("button",{type:"button",className:"btn-close float-end","aria-label":"Close",onClick:function(){return p(!1)}}),Object(f.jsxs)("div",{children:[a.first_name," ",a.last_name," | Phone number: ",a.phone_number," ","| Email: ",Object(f.jsx)("a",{href:"mailto: ${item.email}",children:a.email})," "]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("div",{className:"card-body",children:[s.length>0&&Object(f.jsx)(fe,{petList:s,onCloseModal:function(){return p(!1)}}),0===s.length&&Object(f.jsxs)("div",{children:[a.first_name," ",a.last_name," doesn't have any adopted or fostered pet."]})]})})]})]})},ve=function(e){var t=e.userList,a="undefined"===t||t.length<1?Object(f.jsx)("div",{children:"There are no Users in the list"}):Object(f.jsx)("div",{className:"row row-cols-1 row-cols-md-auto g-4",children:t.map((function(e){return Object(f.jsx)(Oe,{item:e,index:t.indexOf(e)},e.id)}))});return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"list-group",children:a})})})},ge=function(e){var t=e.id,a=e.onCloseModal,n=e.onLoadPets,c=Object(r.useState)({}),s=Object(b.a)(c,2),i=(s[0],s[1]),o=Object(r.useState)(""),j=Object(b.a)(o,2),m=j[0],h=j[1],x=w(),O=Object(p.a)(),v=O.register,g=O.setValue,N=O.handleSubmit,y=(O.formState.errors,function(){var e=Object(d.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t,r,x.token);case 3:n=e.sent,i(n.pet),a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),k=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le(t,x.token);case 3:e.sent,n(),a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.image[0],(r=new je.a).append("image",a,a.name),e.prev=3,e.next=6,E(r,x.token);case 6:n=e.sent,h(n.picture_url),g("picture_url",n.picture_url),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){U(t,x.token).then((function(e){["name","status","type","breed","color","height","weight","hypoallergenic","diet","bio","picture_url"].forEach((function(t){return g(t,e[t])})),i(e),h(e.picture_url)}))}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:"row g-3",onSubmit:N(y),children:[m&&Object(f.jsx)("div",{className:"col-md-4",children:Object(f.jsx)("img",{src:m,alt:"...",className:"img-fluid rounded",style:{height:"15rem",width:"30rem",objectFit:"contain",border:"solid 1px #ccc"}})}),Object(f.jsx)("div",{className:"col-8",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Pet name"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return g(e.target.value)},placeholder:"Pet name"},v("name",{required:!0,min:1,maxLength:100})))]}),Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Type"}),Object(f.jsxs)("select",Object(l.a)(Object(l.a)({className:"form-control"},v("type")),{},{children:[Object(f.jsx)("option",{value:"dog",children:"Dog"}),Object(f.jsx)("option",{value:"cat",children:"Cat"})]}))]}),Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Breed"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return g(e.target.value)},placeholder:"Breed"},v("breed",{required:!1,maxLength:100})))]}),Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Color"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return g(e.target.value)},placeholder:"Color"},v("color",{required:!1,maxLength:100})))]}),Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Height (cm)"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"number",placeholder:"Height",onChange:function(e){return g(+e.target.value)}},v("height",{required:!1,min:0,max:999})))]}),Object(f.jsxs)("div",{className:"col-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Weight (gram)"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"number",onChange:function(e){return g(e.target.value)},placeholder:"Weight"},v("weight",{required:!0,min:0,max:999})))]})]})}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"formFile",className:"form-label",children:"Attach a picture"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",Object(l.a)({type:"file",className:"form-control",id:"inputGroupFile04","aria-describedby":"inputGroupFileAddon04","aria-label":"Upload"},v("image",{required:!1}))),Object(f.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"inputGroupFileAddon04",onClick:N(S),children:"Upload"})]})]}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-3 mb-3",children:[Object(f.jsx)("input",Object(l.a)({type:"checkbox",onChange:function(e){return g(e.target.value)},placeholder:"Hypoallergenic"},v("hypoallergenic",{required:!1,maxLength:100}))),Object(f.jsx)("label",{className:"form-label",children:"\xa0Hypoallergenic"})]}),Object(f.jsxs)("div",{className:"col-9 mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Dietary restrictions"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",onChange:function(e){return g(e.target.value)},placeholder:"Dietary restrictions"},v("diet",{required:!1,maxLength:100})))]})]})}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("label",{className:"form-label",children:"Biography"}),Object(f.jsx)("textarea",Object(l.a)({className:"form-control",onChange:function(e){return g(e.target.value)},style:{height:"7rem"}},v("bio",{required:!1,min:1})))]})})}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-6 mb-4",children:Object(f.jsxs)("button",{type:"button",onClick:N(k),className:"btn btn-danger float-start ms-0",children:[" ","Delete this pet"]})}),Object(f.jsx)("div",{className:"col-6 mb-4",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-primary float-end ms-4",children:"Save your changes"})})]})})]})})},Ne=function(e){var t=e.item,a=e.onLoadPets,n=Object(r.useState)(!1),c=Object(b.a)(n,2),s=c[0],l=c[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("button",{type:"button",onClick:function(){return l(!0)},className:"list-group-item list-group-item-action btn btn-outline-info shadow-sm p-1 ms-3 mb-0 w-75 bg-body border rounded",children:[t.name," | ",t.type," | ",t.status]}),Object(f.jsxs)(he.a,{closeTimeoutMS:200,isOpen:s,contentLabel:"modal",style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(224, 224, 224, 0.75)",backdropFilter:"blur(5px)"},content:{position:"absolute",top:"80px",left:"20%",right:"20%",bottom:"20px",border:"1px solid #ccc",background:"#fff",backdropFilter:"blur(5px)",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},onRequestClose:function(){return l(!1)},ariaHideApp:!1,children:[Object(f.jsx)("button",{type:"button",className:"btn-close float-end","aria-label":"Close",onClick:function(){return l(!1)}}),Object(f.jsx)(ge,{id:t.id,onCloseModal:function(){return l(!1)},onLoadPets:function(){return a()}})]})]})},ye=function(e){var t=e.petList,a=e.onLoadPets,r=t.length<1?Object(f.jsx)("div",{children:"There are no pets in the list"}):Object(f.jsx)("div",{className:"row row-cols-1 row-cols-md-auto g-4",children:t.map((function(e){return Object(f.jsx)(Ne,{item:e,onLoadPets:function(){return a()}},e.id)}))});return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"list-group",children:r})})},we=function(){var e=w(),t=Object(r.useState)([]),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)([]),l=Object(b.a)(s,2),i=l[0],o=l[1],j=Object(r.useRef)(!1);Object(r.useEffect)((function(){return j.current=!0,m(),p(),function(){j.current=!1}}),[]);var m=function(){var t=Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce(e.token);case 3:a=t.sent,c(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,re(e.token);case 3:a=t.sent,o(a.user),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"accordion",id:"accordionExample",children:[Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card-header",id:"headingOne",children:Object(f.jsx)("h5",{className:"mb-0",children:Object(f.jsx)("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne",children:"User list"})})}),Object(f.jsx)("div",{id:"collapseOne",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample",children:Object(f.jsx)("div",{className:"card-body",children:Object(f.jsx)(ve,{userList:i})})})]}),Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card-header",id:"headingTwo",children:Object(f.jsx)("h5",{className:"mb-0",children:Object(f.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"Pet List"})})}),Object(f.jsx)("div",{id:"collapseTwo",className:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionExample",children:Object(f.jsx)("div",{className:"card-body",children:Object(f.jsx)(ye,{petList:n,onLoadPets:function(){return m()}})})})]}),Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card-header",id:"headingThree",children:Object(f.jsx)("h5",{className:"mb-0",children:Object(f.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:"Add a pet"})})}),Object(f.jsx)("div",{id:"collapseThree",className:"collapse","aria-labelledby":"headingThree","data-parent":"#accordionExample",children:Object(f.jsx)("div",{className:"card-body",children:Object(f.jsx)(me,{onLoadPets:function(){return m()}})})})]})]})})},ke=function(){var e=Object(r.useRef)(!1),t=w();return Object(r.useEffect)((function(){return e.current=!0,t.resetAdminStatus(),t.removeUserId(),t.removeFullName(),t.removeToken(),function(){e.current=!1}}),[]),Object(f.jsx)("div",{children:"You have been signed out from the site."})},Se=function(){var e=w(),t=Object(r.useState)({}),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)({}),l=Object(b.a)(s,2),i=l[0],o=l[1],j=Object(r.useRef)(!1);Object(r.useEffect)((function(){return j.current=!0,m(),p(),function(){j.current=!1}}),[]);var m=function(){var t=Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K(e.userId,e.token);case 3:a=t.sent,c(a.owned),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X(e.userId,e.token);case 3:a=t.sent,o(a.saved),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{m(),p()}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"accordion",id:"accordionExample",children:[Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card-header",id:"headingOne",children:Object(f.jsx)("h5",{className:"mb-0",children:Object(f.jsx)("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne",children:"Adopted or fostered pets"})})}),Object(f.jsx)("div",{id:"collapseOne",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample",children:Object(f.jsxs)("div",{className:"card-body",children:[n.length>0&&Object(f.jsx)(fe,{petList:n,onRefresh:function(){return h()}}),0===n.length&&Object(f.jsx)("div",{children:"You do not own a pet yet. Please foster or adopt one."})]})})]}),Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card-header",id:"headingTwo",children:Object(f.jsx)("h5",{className:"mb-0",children:Object(f.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"Saved pets"})})}),Object(f.jsx)("div",{id:"collapseTwo",className:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionExample",children:Object(f.jsxs)("div",{className:"card-body",children:[i.length>0&&Object(f.jsx)(fe,{petList:i,onRefresh:function(){return h()}}),0===i.length&&Object(f.jsx)("div",{children:"You haven't saved a pet yet. Go to the pet gallery or use the search function to find pets."})]})})]})]})})},Ce=function(e){var t=e.currentUserId,a=Object(m.g)().id,n=w(),c=Object(r.useState)({}),s=Object(b.a)(c,2),l=s[0],i=s[1],o=Object(r.useState)(!1),j=Object(b.a)(o,2),p=j[0],h=j[1],x=Object(r.useState)(""),O=Object(b.a)(x,2),v=O[0],g=O[1],N=Object(r.useRef)(!1);Object(r.useEffect)((function(){return N.current=!0,y(),k(),function(){N.current=!1}}),[]);var y=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{U(a,n.token).then((function(e){i(e),e.picture_url&&g(e.picture_url),e.picture_url||("dog"===e.type&&g("../dog.png"),"cat"===e.type&&g("../cat.png"))}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{oe(a,n.userId,n.token).then((function(e){e.savedStatus.length>0&&h(!0),0===e.savedStatus.length&&h(!1)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={status:a},e.prev=1,e.next=4,G(t,r,n.token);case 4:e.sent,y(),k(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t,n.token);case 3:e.sent,y(),k(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t,n.token);case 3:e.sent,y(),k(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"card mb-3",children:Object(f.jsxs)("div",{className:"row g-0",children:[Object(f.jsx)("div",{className:"col-md-4",children:Object(f.jsx)("img",{src:v,alt:"...",className:"img-fluid",style:{height:"15rem",width:"30rem",objectFit:"contain"}})}),Object(f.jsx)("div",{className:"col-md-4",children:Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h5",{className:"card-title",children:l.name}),Object(f.jsx)("div",{className:"card-text",children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{children:["Type: ",l.type]}),Object(f.jsxs)("li",{children:["Breed: ",l.breed]}),Object(f.jsxs)("li",{children:["Color: ",l.color]}),Object(f.jsxs)("li",{children:["Height: ",l.height," cm"]}),Object(f.jsxs)("li",{children:["Weight: ",l.weight," kg"]}),Object(f.jsxs)("li",{children:["Hypoallergenic: ",l.hypoallergenic]}),Object(f.jsxs)("li",{children:["Dietary restrictions: ",l.diet]})]})})]})}),Object(f.jsx)("div",{className:"col-md-4",children:Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h5",{className:"card-title",children:"Biography: "}),Object(f.jsx)("p",{className:"card-text",children:l.bio})]})}),Object(f.jsx)("div",{className:"card-footer",children:Object(f.jsxs)("p",{className:"card-text",children:[Object(f.jsxs)("div",{className:"text-muted float-start",children:["Adoption status: ",l.status]}),"Available"===l.status&&Object(f.jsxs)("button",{className:"btn btn-primary float-end ms-2",onClick:function(){return S(l.id,"Adopted")},children:["Adopt ",l.name]}),"Available"===l.status&&Object(f.jsxs)("button",{className:"btn btn-primary float-end ms-2",onClick:function(){return S(l.id,"Fostered")},children:["Foster ",l.name]}),"Available"!==l.status&&l.owner_id===n.userId&&Object(f.jsxs)("button",{className:"btn btn-primary float-end ms-2",onClick:function(){return S(l.id,"Available")},children:["Return ",l.name]}),!p&&Object(f.jsxs)("button",{className:"btn btn-primary float-end ms-2",onClick:function(){return C(l.id,t)},children:["Add ",l.name," to your 'saved pets' list"]}),p&&Object(f.jsxs)("button",{className:"btn btn-primary float-end ms-2",onClick:function(){return F(l.id,t)},children:["Remove ",l.name," from your 'saved pets' list"]})]})})]})})})},Fe=function(e){var t=w(),a=Object(r.useState)(""),n=Object(b.a)(a,2),c=n[0],s=n[1],l=Object(r.useState)(""),i=Object(b.a)(l,2),o=i[0],j=i[1],m=Object(r.useState)(""),p=Object(b.a)(m,2),h=p[0],x=(p[1],Object(r.useState)("")),O=Object(b.a)(x,2),v=O[0],g=(O[1],Object(r.useState)("")),N=Object(b.a)(g,2),y=N[0],k=(N[1],Object(r.useState)("")),S=Object(b.a)(k,2),C=S[0],F=S[1],L=Object(r.useState)(!1),T=Object(b.a)(L,2),q=T[0],I=T[1],_=function(){var e=Object(d.a)(u.a.mark((function e(a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r="name=".concat(c,"&type=").concat(o,"&status=").concat(h,"&height=").concat(v,"&weight=").concat(y),e.prev=2,e.next=5,B(r,t.token);case 5:n=e.sent,I(!0),F(n.searchResult),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e){"name"===e.target.id&&s(e.target.value),"cat"!==e.target.id&&"dog"!==e.target.id||j(e.target.value)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("form",{onSubmit:function(e){return _(e)},children:[Object(f.jsxs)("div",{className:"row mb-3",children:[Object(f.jsx)("label",{htmlFor:"inputEmail3",className:"col-sm-2 col-form-label",children:"Pet name"}),Object(f.jsx)("div",{className:"col-sm-10",children:Object(f.jsx)("input",{type:"name",className:"form-control",id:"name",onChange:function(e){return P(e)}})})]}),Object(f.jsxs)("fieldset",{className:"row mb-3",children:[Object(f.jsx)("legend",{className:"col-form-label col-sm-2 pt-0",children:"Type"}),Object(f.jsxs)("div",{className:"col-sm-10",children:[Object(f.jsxs)("div",{className:"form-check",children:[Object(f.jsx)("input",{className:"form-check-input",type:"radio",name:"gridradios",id:"cat",value:"cat",onChange:function(e){return P(e)}}),Object(f.jsx)("label",{className:"form-check-label",htmlFor:"gridRadios1",children:"Cat"})]}),Object(f.jsxs)("div",{className:"form-check",children:[Object(f.jsx)("input",{className:"form-check-input",type:"radio",name:"gridradios",id:"dog",value:"dog",onChange:function(e){return P(e)}}),Object(f.jsx)("label",{className:"form-check-label",htmlFor:"gridRadios2",children:"Dog"})]})]})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Search"})]}),Object(f.jsx)("br",{}),0!==C.length&&q&&Object(f.jsx)(fe,{petList:C}),0==C.length&&!q&&Object(f.jsx)("div",{}),0==C.length&&q&&Object(f.jsx)("div",{children:"Sorry, no pets with the entered criteria were found."})]})},Le=function(e){var t=e.petList,a=e.currentUserId,r=t.length<1?Object(f.jsx)("div",{children:"There are no pets in the list"}):Object(f.jsx)("div",{className:"row row-cols-1 row-cols-md-auto g-4",children:t.map((function(e){return Object(f.jsx)(xe,{item:e,currentUserId:a},e.id)}))});return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{id:"accordion",children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card-header",id:"headingOne",children:Object(f.jsx)("h5",{className:"mb-0",children:Object(f.jsx)("button",{className:"btn btn-link","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"All pets"})})}),Object(f.jsx)("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordion",children:Object(f.jsx)("div",{className:"card-body",children:Object(f.jsx)("div",{children:r})})})]})})})},Te=function(){var e=w();return Object(f.jsx)("nav",{className:"container navbar navbar-expand-lg navbar-light bg-light fixed-top",children:Object(f.jsx)("div",{className:"container-fluid",children:Object(f.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(f.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"active",exact:!0,to:"/",children:"Home"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"active",to:"/my_pets",children:"My pets"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"active",to:"/search",children:"Search a pet"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"active",to:"/all_pets",children:"Pet gallery"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"active",to:"/profile",children:"My profile"})}),e.admin&&Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"active",to:"/admin",children:"Admin"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"active",to:"/sign_out",children:"Sign out"})})]})})})})},qe=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)("Hello"),s=Object(b.a)(c,1)[0],l=w();Object(r.useEffect)((function(){i()}),[]);var i=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce(l.token);case 3:t=e.sent,n(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(j.a,{children:[Object(f.jsx)(Te,{}),Object(f.jsx)("div",{className:"container",style:{marginTop:"5rem"},children:Object(f.jsxs)(m.d,{children:[Object(f.jsxs)(m.b,{exact:!0,path:"/",children:[Object(f.jsxs)("h2",{children:[s,", ",l.fullName,"!"]}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"selected",to:"/search",children:"Search a pet"})}),Object(f.jsx)("li",{children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"selected",to:"/my_pets",children:"Go to your pets"})}),Object(f.jsx)("li",{children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"selected",to:"/profile",children:"My profile"})})]})]}),Object(f.jsx)(m.b,{path:"/my_pets",children:Object(f.jsx)(Se,{})}),Object(f.jsx)(m.b,{path:"/all_pets",children:Object(f.jsx)(Le,{petList:a})}),Object(f.jsx)(m.b,{path:"/pets/edit/:id",children:Object(f.jsx)(ge,{})}),Object(f.jsx)(m.b,{path:"/pets/:id",children:Object(f.jsx)(Ce,{})}),Object(f.jsx)(m.b,{path:"/profile",children:Object(f.jsx)(de,{})}),Object(f.jsx)(m.b,{path:"/admin",children:l.admin&&Object(f.jsx)(we,{})}),Object(f.jsx)(m.b,{path:"/search",children:Object(f.jsx)(Fe,{})}),Object(f.jsx)(m.b,{path:"/sign_out",children:Object(f.jsx)(ke,{})})]})})]})};function Ie(){var e=w(),t=Object(p.a)(),a=t.register,r=t.handleSubmit,n=(t.formState.errors,function(){var t=Object(d.a)(u.a.mark((function t(a){var r,n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I(a);case 3:return r=t.sent,n=r.token,c=r.user,t.next=8,e.saveToken(n);case 8:return t.next=10,e.saveUserId(c.id);case 10:return t.next=12,e.saveFullName(c.fullName);case 12:if("admin"!==c.role){t.next=17;break}return t.next=15,e.saveAdminStatus(!0);case 15:t.next=19;break;case 17:return t.next=19,e.saveAdminStatus(!1);case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(0),console.log(t.t0),alert("".concat(t.t0.response.data.message," (status ").concat(t.t0.response.status,")"));case 25:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e){return t.apply(this,arguments)}}());return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:"row g-3",onSubmit:r(n),children:[Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-md-6 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Email"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"email",placeholder:"Email"},a("email",{required:!0,min:4,pattern:/^\S+@\S+$/i})))]}),Object(f.jsxs)("div",{className:"col-md-6 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Password"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"password",placeholder:"Password"},a("password",{required:!0})))]})]})}),Object(f.jsx)("div",{className:"col-12 mb-4",children:Object(f.jsx)("input",{className:"btn btn-primary float-end",type:"submit"})})]})})}function _e(){var e=w(),t=Object(p.a)(),a=t.register,r=t.handleSubmit,n=(t.formState.errors,function(){var t=Object(d.a)(u.a.mark((function t(a){var r,n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.email===a.email2){t.next=2;break}return t.abrupt("return",alert("The email addresses don't match. Please correct."));case 2:if(a.password===a.password2){t.next=4;break}return t.abrupt("return",alert("The passwords don't match. Please correct."));case 4:return t.prev=4,t.next=7,T(a);case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(4),alert("".concat(t.t0.response.data.message," (status ").concat(t.t0.response.status," ").concat(t.t0.response.statusText,")")),t.abrupt("return");case 13:return t.prev=13,t.next=16,I(a);case 16:return r=t.sent,n=r.token,c=r.user,t.next=21,e.saveUserId(c.id);case 21:return t.next=23,e.saveFullName(c.fullName);case 23:return t.next=25,e.saveToken(n);case 25:alert("Dear ".concat(a.firstName,", it's great to have you with us! Your account has been created, and you will now be logged in.")),t.next=31;break;case 28:t.prev=28,t.t1=t.catch(13),alert("".concat(t.t1.response.data.message," (status ").concat(t.t1.response.status," ").concat(t.t1.response.statusText,")"));case 31:case"end":return t.stop()}}),t,null,[[4,9],[13,28]])})));return function(e){return t.apply(this,arguments)}}());return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:"row g-3",onSubmit:r(n),children:[Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-6 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"First name"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",placeholder:"First name"},a("firstName",{required:!0,min:1,maxLength:80})))]}),Object(f.jsxs)("div",{className:"col-6 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Last name"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"text",placeholder:"Last name"},a("lastName",{required:!0,min:1,maxLength:100})))]}),Object(f.jsxs)("div",{className:"col-md-6 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Email"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"email",placeholder:"Email"},a("email",{required:!0,min:4,pattern:/^\S+@\S+$/i})))]}),Object(f.jsxs)("div",{className:"col-md-6 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Repeat email address"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"email",placeholder:"Email"},a("email2",{required:!0,min:4,pattern:/^\S+@\S+$/i})))]}),Object(f.jsxs)("div",{className:"col-md-6 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Password"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"password",placeholder:"Password"},a("password",{required:!0})))]}),Object(f.jsxs)("div",{className:"col-md-6 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Repeat password"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"password",placeholder:"Password"},a("password2",{required:!0})))]})]}),Object(f.jsxs)("div",{className:"col-6 mb-4",children:[Object(f.jsx)("label",{className:"form-label",children:"Phone number"}),Object(f.jsx)("input",Object(l.a)({className:"form-control",type:"tel",placeholder:"Phone number"},a("phoneNumber",{required:!0,minLength:6,maxLength:12})))]})]}),Object(f.jsx)("div",{className:"col-12 mb-4",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-primary float-end ms-4",children:"I'm ready, please create my account!"})})]})})}var Pe=function(){return Object(f.jsx)("nav",{className:"container navbar navbar-expand-lg navbar-light bg-light fixed-top",children:Object(f.jsx)("div",{className:"container-fluid",children:Object(f.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(f.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(j.b,{className:"nav-link",activeClassName:"selected",exact:!0,to:"/",children:"Home"})})})})})})},Ae=function(){var e=Object(r.useState)("Hello"),t=Object(b.a)(e,1)[0],a=Object(r.useState)(!1),n=Object(b.a)(a,2),c=n[0],s=n[1],l=Object(r.useState)(!1),i=Object(b.a)(l,2),o=i[0],u=i[1],d={position:"fixed",backgroundColor:"rgba(224, 224, 224, 0.75)",boxShadow:"inset 0 0 2000px rgba(255, 255, 255, .5)",backdropFilter:"blur(5px)"},m={overlay:d,content:{position:"absolute",top:"6rem",left:"30%",right:"30%",height:"17rem",border:"1px solid #ccc",background:"#fff",backdropFilter:"blur(5px)",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},p={overlay:d,content:{position:"absolute",top:"6rem",left:"30%",right:"30%",height:"35rem",border:"1px solid #ccc",background:"#fff",backdropFilter:"blur(5px)",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j.a,{children:Object(f.jsx)(Pe,{})}),Object(f.jsxs)("div",{className:"container",style:{marginTop:"5rem"},children:[Object(f.jsxs)("h2",{children:[t,", stranger!"]}),Object(f.jsx)("h5",{children:"Please identify yourself by logging in. If you don't have an account yet, you can create one here."}),Object(f.jsx)("p",{children:"Once logged in, you will be able to use our services. We connect dogs and cats to potential foster or adoptive owners. On our site, you will be able to browse for profiles of dogs and cats waiting for foster/adoption. With a click of the button, you can arrange for an animal to be fostered or adopted by you."}),Object(f.jsxs)("div",{className:"d-flex flex-row bd-highlight mb-3",children:[Object(f.jsx)("div",{className:"p-2 bd-highlight",children:Object(f.jsx)("button",{onClick:function(){return s(!0)},type:"submit",className:"btn btn-primary float-end me-4",children:"Login (registered users)"})}),Object(f.jsx)("div",{className:"p-2 bd-highlight",children:Object(f.jsx)("button",{onClick:function(){return u(!0)},type:"submit",className:"btn btn-primary float-start ms-4",children:"Create an account"})})]}),Object(f.jsxs)(he.a,{closeTimeoutMS:200,isOpen:c,contentLabel:"modal",style:m,onRequestClose:function(){return s(!1)},ariaHideApp:!1,children:[Object(f.jsx)("h5",{children:"Login page"}),Object(f.jsx)(Ie,{})]}),Object(f.jsxs)(he.a,{closeTimeoutMS:200,isOpen:o,contentLabel:"modal",style:p,onRequestClose:function(){return u(!1)},ariaHideApp:!1,children:[Object(f.jsx)("h5",{children:"Create an account"}),Object(f.jsx)(_e,{})]})]})]})};function Ee(e){var t=e.children,a=Object(i.a)(e,["children"]),r=w();return Object(f.jsx)(m.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){var a=e.location;return r.token?t:Object(f.jsx)(m.a,{to:{pathname:"/unknown_user",state:{from:a}}})}}))}var Re=function(){var e=w();return e.isInitiallyLoaded?Object(f.jsx)(j.a,{children:Object(f.jsxs)(m.d,{children:[Object(f.jsxs)(m.b,{path:"/unknown_user",children:[e.token&&Object(f.jsx)(m.a,{to:"/"}),!e.token&&Object(f.jsx)(Ae,{})]}),Object(f.jsx)(Ee,{path:"/",children:Object(f.jsx)(qe,{})})]})}):Object(f.jsx)("div",{})};var Ue=function(){return Object(f.jsx)(k,{children:Object(f.jsx)(Re,{})})},He=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(Ue,{})}),document.getElementById("root")),He()}},[[83,1,2]]]);
//# sourceMappingURL=main.d724071d.chunk.js.map